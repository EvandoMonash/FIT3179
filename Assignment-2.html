<!DOCTYPE html>
<html>

<head>
    <title>NetFlix in Different Countries</title>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

    <!-- Import pure.css -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
        integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">

    <style>
        body {
            background-color: #f4f4f4;
            /* Color of the desk/table */
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
        }

        .page {
            background-color: #ffffff;
            /* Color of the paper */
            margin: 50px auto;
            max-width: 1600px;
            padding: 40px;
            /* Padding to simulate paper's boundary */
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
            /* Subtle shadow to give a lifted appearance */
        }
    </style>


</head>

<body>

    <div class="page">

        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-1">
                <h1>NetFlix Visualisations</h1>
                <p>Netflix Around the World: Libraries, Shows, Movies, and Prices at a Glance</p>
            </div>
        </div>
        <!-- end pure grid group -->

        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-2">
                <div class="description description-left">
                    <h4>Netflix on Different Countries</h4>
                    <p>An insightful visualization showcasing the global footprint of Netflix: From library sizes
                        to subscription costs, explore how the streaming giant caters to audiences across different
                        countries. The first chart shows Library Sizes of Netflix in Different Countries. The darker
                        the colour, the larger library size it has.</p>
                </div>
            </div>
        </div>
        <br>
        <div class="pure-u-1-2">
            <div id="vis" class="vis-container"></div>
        </div>

        <br>

        <div class="pure-g">
            <div class="pure-u-1-2">
                <h4>Netflix Pricing and Content Library Analysis</h4>
                <p>This interactive visualization comprises two side-by-side scatter plots,
                    each representing different aspects of Netflix's offerings in various countries.
                    The data is sourced from a CSV file hosted online on kaggle, and users can select a specific
                    country or view data for all countries using a dropdown menu.</p>

                <h5>1. TV Shows Analysis (Left Plot - Blue Circles)</h5>
                <ul>
                    <li><b>X-Axis (Horizontal)</b>: Represents the 'Total Library Size' in each country. This indicates
                        the total
                        number of titles (both TV shows and movies) available in Netflix's library for that country.
                    </li>
                    <li><b>Y-Axis (Vertical)</b>: Represents the 'Cost Per Month - Standard ($)' in each country. This
                        is the
                        monthly subscription cost for the standard plan in US dollars.</li>
                    <li><b>Size of Circle</b>: Indicates the 'Number of TV Shows' available in that country. A larger
                        circle means
                        a greater number of TV shows.</li>
                    <li><b>Color</b>: All circles are blue for easy differentiation from the next plot.</li>
                    <li><b>Tooltip</b>: Hovering over a circle provides additional details such as the country name,
                        total library
                        size, monthly cost, and the number of TV shows.</li>
                </ul>

                <h5>2. Movies Analysis (Right Plot - Red Circles)</h5>
                <ul>
                    <li><b>X-Axis (Horizontal)</b>: Same as the left plot, it represents the 'Total Library Size'.</li>
                    <li><b>Y-Axis (Vertical)</b>: Represents the 'Cost Per Month - Standard ($)'.</li>
                    <li><b>Size of Circle</b>: Indicates the 'Number of Movies' available in that country. A larger
                        circle means a
                        greater number of movies.</li>
                    <li><b>Color</b>: All circles are red to differentiate from the TV shows plot.</li>
                    <li><b>Tooltip</b>: Provides details such as the country name, total library size, monthly cost, and
                        the
                        number of movies.</li>
                </ul>

                <p><b>Interactivity and Filters</b>: A dropdown menu titled 'Select Country' allows users to filter the
                    data for
                    a specific country or view data for all countries. When a country is selected, only data points
                    relevant to
                    that country will be displayed on both plots.</p>
            </div>
        </div>

        <div class="pure-u-1-2">
            <div id="vis2" class="vis-container"></div>
        </div>
        <br>

        <div class="pure-g">
            <div class="pure-u-1-2">
                <h4>Netflix Subscription Costs Analysis</h4>
                <p>This visualization showcases the monthly subscription costs for Netflix's different plans in various
                    countries. The data is sourced from a CSV file hosted online on kaggle, and users can select a
                    specific
                    country or view data for all countries using a dropdown menu.</p>

                <h5>1. Subscription Costs Breakdown (Bar Chart)</h5>
                <ul>
                    <li><b>X-Axis (Horizontal)</b>: Represents the 'Country'. Each bar corresponds to a specific
                        country's subscription costs.</li>
                    <li><b>Y-Axis (Vertical)</b>: Denotes the 'Subscription Cost ($)' in each country. The height of the
                        bar segments indicates the cost of the respective subscription plan in US dollars.</li>
                    <li><b>Color</b>: The bars are color-coded based on the subscription type:
                        <ul>
                            <li>Blue for the Basic plan,</li>
                            <li>Orange for the Standard plan, and</li>
                            <li>Green for the Premium plan.</li>
                        </ul>
                    </li>
                    <li><b>Tooltip</b>: Hovering over each segment of the bar provides detailed information about the
                        country, the subscription type, and its respective cost.</li>
                </ul>

                <p><b>Interactivity and Filters</b>: A dropdown menu titled 'Select Country' allows users to filter the
                    data for a specific country or view data for all countries. When a country is selected, only the bar
                    corresponding to that country will be displayed, showcasing its subscription costs breakdown.</p>
            </div>
        </div>


        <div class="pure-u-1-2">
            <div id="vis3" class="vis-container"></div>
        </div>

        <!-- end pure grid group -->

        <div id="vis" />
        <script>
            const spec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "params": [
                    {
                        "name": "SelectionCountry",
                        "value": null,
                        "bind": {
                            "input": "select",
                            "options": [
                                null,
                                "Argentina",
                                "Australia",
                                "Austria",
                                "Belgium",
                                "Bolivia",
                                "Brazil",
                                "Bulgaria",
                                "Canada",
                                "Chile",
                                "Colombia",
                                "Costa Rica",
                                "Croatia",
                                "Czechia",
                                "Denmark",
                                "Ecuador",
                                "Estonia",
                                "Finland",
                                "France",
                                "Germany",
                                "Gibraltar",
                                "Greece",
                                "Guatemala",
                                "Honduras",
                                "Hong Kong",
                                "Hungary",
                                "Iceland",
                                "India",
                                "Indonesia",
                                "Ireland",
                                "Israel",
                                "Italy",
                                "Japan",
                                "Latvia",
                                "Liechtenstein",
                                "Lithuania",
                                "Malaysia",
                                "Mexico",
                                "Moldova",
                                "Monaco",
                                "Netherlands",
                                "New Zealand",
                                "Norway",
                                "Paraguay",
                                "Peru",
                                "Philippines",
                                "Poland",
                                "Portugal",
                                "Romania",
                                "Russia",
                                "San Marino",
                                "Singapore",
                                "Slovakia",
                                "South Africa",
                                "South Korea",
                                "Spain",
                                "Sweden",
                                "Switzerland",
                                "Taiwan",
                                "Thailand",
                                "Turkey",
                                "Ukraine",
                                "United Kingdom",
                                "United States of America",
                                "Uruguay",
                                "Venezuela"
                            ],
                            "labels": [
                                "Show All",
                                "Argentina",
                                "Australia",
                                "Austria",
                                "Belgium",
                                "Bolivia",
                                "Brazil",
                                "Bulgaria",
                                "Canada",
                                "Chile",
                                "Colombia",
                                "Costa Rica",
                                "Croatia",
                                "Czechia",
                                "Denmark",
                                "Ecuador",
                                "Estonia",
                                "Finland",
                                "France",
                                "Germany",
                                "Gibraltar",
                                "Greece",
                                "Guatemala",
                                "Honduras",
                                "Hong Kong",
                                "Hungary",
                                "Iceland",
                                "India",
                                "Indonesia",
                                "Ireland",
                                "Israel",
                                "Italy",
                                "Japan",
                                "Latvia",
                                "Liechtenstein",
                                "Lithuania",
                                "Malaysia",
                                "Mexico",
                                "Moldova",
                                "Monaco",
                                "Netherlands",
                                "New Zealand",
                                "Norway",
                                "Paraguay",
                                "Peru",
                                "Philippines",
                                "Poland",
                                "Portugal",
                                "Romania",
                                "Russia",
                                "San Marino",
                                "Singapore",
                                "Slovakia",
                                "South Africa",
                                "South Korea",
                                "Spain",
                                "Sweden",
                                "Switzerland",
                                "Taiwan",
                                "Thailand",
                                "Turkey",
                                "Ukraine",
                                "United Kingdom",
                                "United States of America",
                                "Uruguay",
                                "Venezuela"
                            ],
                            "name": "Select Country"
                        }
                    }
                ],
                "width": 800,
                "height": 400,
                "title": "Netflix Library Sizes in Different Countries",
                "projection": { "type": "equalEarth" },
                "layer": [
                    {
                        "data": {
                            "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/Homework-Week9/ne_110m_wgs84_bounding_box.json",
                            "format": {
                                "type": "topojson",
                                "feature": "ne_110m_wgs84_bounding_box"
                            }
                        },
                        "mark": { "type": "geoshape", "fill": "lightblue", "stroke": "white" }
                    },
                    {
                        "data": {
                            "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/Homework-Week9/ne_110m%20(2).json",
                            "format": { "type": "topojson", "feature": "ne_110m_graticules_30" }
                        },
                        "mark": { "type": "geoshape", "stroke": "white", "fill": null }
                    },
                    {
                        "data": {
                            "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/Homework-Week9/ne_110m%20(2).json",
                            "format": {
                                "type": "topojson",
                                "feature": "ne_110m_admin_0_countries"
                            }
                        },
                        "layer": [
                            {
                                "transform": [
                                    {
                                        "calculate": "'Data is not available in ' + datum.properties.NAME",
                                        "as": "note"
                                    }
                                ],
                                "mark": {
                                    "type": "geoshape",
                                    "fill": "lightgray",
                                    "stroke": "white"
                                },
                                "encoding": { "tooltip": { "field": "note" } }
                            },
                            {
                                "transform": [
                                    {
                                        "lookup": "properties.NAME",
                                        "from": {
                                            "data": {
                                                "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/main/netflix%20price%20in%20different%20countries.csv"
                                            },
                                            "key": "Country",
                                            "fields": ["Total Library Size"]
                                        }
                                    },
                                    {
                                        "filter": "SelectionCountry === null || datum.properties.NAME === SelectionCountry"
                                    }
                                ],
                                "mark": { "type": "geoshape", "stroke": "white" },
                                "encoding": {
                                    "color": {
                                        "field": "Total Library Size",
                                        "type": "quantitative",
                                        "scale": {
                                            "type": "threshold",
                                            "domain": [4000, 5000, 6000],
                                            "range": ["#fdbe85", "#fd8d3c", "#e6550d", "#a63603"]
                                        }
                                    },
                                    "tooltip": [
                                        {
                                            "field": "properties.NAME",
                                            "type": "nominal",
                                            "title": "Country"
                                        },
                                        { "field": "Total Library Size", "type": "quantitative" }
                                    ]
                                }
                            }
                        ]
                    }
                ],
                "config": {}
            };
            vegaEmbed("#vis", spec, { mode: "vega-lite" }).then(console.log).catch(console.warn);

            const spec2 = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "data": { "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/main/netflix%20price%20in%20different%20countries.csv", "format": { "type": "csv" } },

                "params": [
                    {
                        "name": "CountrySelector",
                        "value": "All",
                        "bind": {
                            "input": "select",
                            "options": ["All", "Argentina",
                                "Australia",
                                "Austria",
                                "Belgium",
                                "Bolivia",
                                "Brazil",
                                "Bulgaria",
                                "Canada",
                                "Chile",
                                "Colombia",
                                "Costa Rica",
                                "Croatia",
                                "Czechia",
                                "Denmark",
                                "Ecuador",
                                "Estonia",
                                "Finland",
                                "France",
                                "Germany",
                                "Gibraltar",
                                "Greece",
                                "Guatemala",
                                "Honduras",
                                "Hong Kong",
                                "Hungary",
                                "Iceland",
                                "India",
                                "Indonesia",
                                "Ireland",
                                "Israel",
                                "Italy",
                                "Japan",
                                "Latvia",
                                "Liechtenstein",
                                "Lithuania",
                                "Malaysia",
                                "Mexico",
                                "Moldova",
                                "Monaco",
                                "Netherlands",
                                "New Zealand",
                                "Norway",
                                "Paraguay",
                                "Peru",
                                "Philippines",
                                "Poland",
                                "Portugal",
                                "Romania",
                                "Russia",
                                "San Marino",
                                "Singapore",
                                "Slovakia",
                                "South Africa",
                                "South Korea",
                                "Spain",
                                "Sweden",
                                "Switzerland",
                                "Taiwan",
                                "Thailand",
                                "Turkey",
                                "Ukraine",
                                "United Kingdom",
                                "United States of America",
                                "Uruguay",
                                "Venezuela"],
                            "name": "Select Country"
                        }
                    }
                ],
                "hconcat": [
                    {
                        "width": 500,
                        "height": 400,
                        "mark": "circle",
                        "encoding": {
                            "x": {
                                "field": "Total Library Size",
                                "type": "quantitative",
                                "title": "Total Library Size"

                            },
                            "y": {
                                "field": "Cost Per Month - Standard ($)",
                                "type": "quantitative",
                                "title": "Cost Per Month - Standard ($)"
                            },
                            "size": {
                                "field": "No. of TV Shows",
                                "type": "quantitative",
                                "title": "No. of TV Shows"
                            },
                            "color": {
                                "value": "blue"
                            },
                            "tooltip": [
                                { "field": "Country", "type": "nominal" },
                                { "field": "Total Library Size", "type": "quantitative" },
                                { "field": "Cost Per Month - Standard ($)", "type": "quantitative" },
                                { "field": "No. of TV Shows", "type": "quantitative" }
                            ]
                        },
                        "transform": [
                            {
                                "aggregate": [{ "op": "sum", "field": "No. of TV Shows", "as": "No. of TV Shows" }],
                                "groupby": ["Country", "Total Library Size", "Cost Per Month - Standard ($)"]
                            },
                            {
                                "filter": "datum.Country === CountrySelector || CountrySelector === 'All'"
                            }
                        ]
                    },
                    {
                        "width": 500,
                        "height": 400,
                        "mark": "circle",
                        "encoding": {
                            "x": {
                                "field": "Total Library Size",
                                "type": "quantitative",
                                "title": "Total Library Size"

                            },
                            "y": {
                                "field": "Cost Per Month - Standard ($)",
                                "type": "quantitative",
                                "title": "Cost Per Month - Standard ($)"
                            },
                            "size": {
                                "field": "No. of Movies",
                                "type": "quantitative",
                                "title": "No. of Movies"
                            },
                            "color": {
                                "value": "red"
                            },
                            "tooltip": [
                                { "field": "Country", "type": "nominal" },
                                { "field": "Total Library Size", "type": "quantitative" },
                                { "field": "Cost Per Month - Standard ($)", "type": "quantitative" },
                                { "field": "No. of Movies", "type": "quantitative" }
                            ]

                        },
                        "transform": [
                            {
                                "aggregate": [{ "op": "sum", "field": "No. of Movies", "as": "No. of Movies" }],
                                "groupby": ["Country", "Total Library Size", "Cost Per Month - Standard ($)"]
                            },
                            {
                                "filter": "datum.Country === CountrySelector || CountrySelector === 'All'"
                            }
                        ]
                    }
                ]
            };
            vegaEmbed("#vis2", spec2, { mode: "vega-lite" }).then(console.log).catch(console.warn);

            const spec3 = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "params": [
                    {
                        "name": "SelectionCountry",
                        "value": null,
                        "bind": {
                            "input": "select",
                            "options": [
                                null,
                                "Argentina",
                                "Australia",
                                "Austria",
                                "Belgium",
                                "Bolivia",
                                "Brazil",
                                "Bulgaria",
                                "Canada",
                                "Chile",
                                "Colombia",
                                "Costa Rica",
                                "Croatia",
                                "Czechia",
                                "Denmark",
                                "Ecuador",
                                "Estonia",
                                "Finland",
                                "France",
                                "Germany",
                                "Gibraltar",
                                "Greece",
                                "Guatemala",
                                "Honduras",
                                "Hong Kong",
                                "Hungary",
                                "Iceland",
                                "India",
                                "Indonesia",
                                "Ireland",
                                "Israel",
                                "Italy",
                                "Japan",
                                "Latvia",
                                "Liechtenstein",
                                "Lithuania",
                                "Malaysia",
                                "Mexico",
                                "Moldova",
                                "Monaco",
                                "Netherlands",
                                "New Zealand",
                                "Norway",
                                "Paraguay",
                                "Peru",
                                "Philippines",
                                "Poland",
                                "Portugal",
                                "Romania",
                                "Russia",
                                "San Marino",
                                "Singapore",
                                "Slovakia",
                                "South Africa",
                                "South Korea",
                                "Spain",
                                "Sweden",
                                "Switzerland",
                                "Taiwan",
                                "Thailand",
                                "Turkey",
                                "Ukraine",
                                "United Kingdom",
                                "United States of America",
                                "Uruguay",
                                "Venezuela"
                            ],
                            "labels": [
                                "Show All",
                                "Argentina",
                                "Australia",
                                "Austria",
                                "Belgium",
                                "Bolivia",
                                "Brazil",
                                "Bulgaria",
                                "Canada",
                                "Chile",
                                "Colombia",
                                "Costa Rica",
                                "Croatia",
                                "Czechia",
                                "Denmark",
                                "Ecuador",
                                "Estonia",
                                "Finland",
                                "France",
                                "Germany",
                                "Gibraltar",
                                "Greece",
                                "Guatemala",
                                "Honduras",
                                "Hong Kong",
                                "Hungary",
                                "Iceland",
                                "India",
                                "Indonesia",
                                "Ireland",
                                "Israel",
                                "Italy",
                                "Japan",
                                "Latvia",
                                "Liechtenstein",
                                "Lithuania",
                                "Malaysia",
                                "Mexico",
                                "Moldova",
                                "Monaco",
                                "Netherlands",
                                "New Zealand",
                                "Norway",
                                "Paraguay",
                                "Peru",
                                "Philippines",
                                "Poland",
                                "Portugal",
                                "Romania",
                                "Russia",
                                "San Marino",
                                "Singapore",
                                "Slovakia",
                                "South Africa",
                                "South Korea",
                                "Spain",
                                "Sweden",
                                "Switzerland",
                                "Taiwan",
                                "Thailand",
                                "Turkey",
                                "Ukraine",
                                "United Kingdom",
                                "United States of America",
                                "Uruguay",
                                "Venezuela"
                            ],
                            "name": "Select Country"
                        }
                    }
                ],
                "title": "Netflix Subscription Costs Across the World",
                "data": {
                    "url": "https://raw.githubusercontent.com/EvandoMonash/FIT3179/main/netflix%20price%20in%20different%20countries.csv"
                },
                "mark": "bar",
                "encoding": {
                    "x": {
                        "field": "Country",
                        "type": "ordinal",
                        "axis": { "title": "Country" }
                    },
                    "y": {
                        "field": "value",
                        "type": "quantitative",
                        "axis": { "title": "Subscription Cost ($)" },
                        "stack": "zero"
                    },
                    "color": {
                        "field": "subscriptionType",
                        "type": "nominal",
                        "legend": { "title": "Subscription Type" },
                        "scale": {
                            "domain": ["Basic", "Standard", "Premium"],
                            "range": ["#1f77b4", "#ff7f0e", "#2ca02c"]
                        }
                    },
                    "tooltip": [
                        { "field": "Country", "type": "nominal" },
                        { "field": "subscriptionType", "type": "nominal" },
                        { "field": "value", "type": "quantitative" }
                    ]
                },
                "transform": [
                    {
                        "fold": [
                            "Cost Per Month - Basic ($)",
                            "Cost Per Month - Standard ($)",
                            "Cost Per Month - Premium ($)"
                        ],
                        "as": ["subscriptionType", "value"]
                    },
                    {
                        "calculate": "replace(datum.subscriptionType, 'Cost Per Month - ', '')",
                        "as": "subscriptionType"
                    },
                    {
                        "calculate": "replace(datum.subscriptionType, ' ($)', '')",
                        "as": "subscriptionType"
                    },
                    {
                        "filter": "datum.Country === SelectionCountry || SelectionCountry === null"
                    }
                ],
                "config": {}
            };
            vegaEmbed("#vis3", spec3, { mode: "vega-lite" }).then(console.log).catch(console.warn);


        </script>
</body>

</html>